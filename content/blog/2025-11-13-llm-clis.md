+++
title = "Wrangling Multiple LLM CLIs"
date = "2025-11-13T23:22:57-08:00"

description = "Setting up Claude Code, OpenAI Codex, and Google Gemini CLIs with a unified configuration strategy using symlinks to manage their different conventions."

summary = "Managing Claude Code, OpenAI Codex, and Gemini CLI configs with a unified ~/agents folder. Uses symlinks to share AGENTS.md and commands across different tools."
+++

I'm experimenting with different LLM CLIs for my projects‚Äîspecifically OpenAI Codex, Claude Code, and Google Gemini. The goal is to have flexibility to switch subscriptions and control costs while keeping things easy to test.

Unfortunately, they all have slightly different ways to define system prompts and commands.

For example, Claude Code expects system prompts from `~/.claude/CLAUDE.md`[^1], Google Gemini expects `~/.gemini/GEMINI.md`[^2], and Codex expects `~/.codex/AGENTS.md`[^3].

It gets even more annoying when it comes to commands. Claude and Codex are similar‚Äîboth use Markdown files with frontmatter‚Äîbut Codex supports named placeholders[^4] while Claude doesn't[^5]. Gemini, for whatever reason, expects TOML format.

Claude[^6] and Gemini[^8] support namespacing via subdirectories, while Codex only looks at top-level files[^7].

My hunch is that eventually they should all converge to a standard format, but we're still far from it since all the companies just want to push forward instead of slowing down for consensus.

My current workaround is to create a `~/agents` folder and keep my system prompt and commands there.

First, I soft-link the `AGENTS.md` to different config folders:

```sh
ln -s ~/agents/AGENTS.md ~/.claude/CLAUDE.md
ln -s ~/agents/AGENTS.md ~/.codex/AGENTS.md
ln -s ~/agents/AGENTS.md ~/.gemini/GEMINI.md
```

For commands, I keep them in Markdown for now, using the frontmatter (`description`, `argument-hint`) and arguments (`$ARGUMENTS`) that are shared between Claude Code and Codex. Then I soft-link them to the corresponding folders:

```sh
ln -s ~/agents/commands ~/.claude/commands
ln -s ~/agents/commands ~/.codex/prompts
```

And at the end, I just ask an LLM to create Gemini TOML formats from the Markdown examples. ü§∑üèª‚Äç‚ôÇÔ∏è

[^1]: [Claude Code Best Practices](https://www.anthropic.com/engineering/claude-code-best-practices)

[^2]: [Gemini CLI: GEMINI.md](https://github.com/google-gemini/gemini-cli/blob/main/docs/cli/gemini-md.md)

[^3]: [Codex: Create Global Guidance](https://developers.openai.com/codex/guides/agents-md#create-global-guidance)

[^4]: [Codex: Add Metadata and Arguments](https://developers.openai.com/codex/guides/slash-commands#add-metadata-and-arguments)

[^5]: [Claude Code: Arguments](https://code.claude.com/docs/en/slash-commands#arguments)

[^6]: [Claude Code: Namespacing](https://code.claude.com/docs/en/slash-commands#namespacing)

[^7]: [Codex: Namespacing](https://developers.openai.com/codex/guides/slash-commands#namespacing)

[^8]: [Gemini CLI: Invoke and Manage Custom Commands](https://github.com/google-gemini/gemini-cli/blob/main/docs/cli/slash-commands.md#invoke-and-manage-custom-commands)

---

_Edited by Claude (claude-sonnet-4-5-20250929)_
